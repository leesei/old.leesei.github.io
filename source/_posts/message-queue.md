---
title: Message Queue
categories:
  - comp
toc: true
date: 2015-08-03 13:21:02
tags:
  - database
---

[Message broker - Wikiwand](https://www.wikiwand.com/en/Message_broker)
[Choosing Your Messaging Protocol: AMQP, MQTT, or STOMP - VMware vFabric Blog - VMware Blogs](https://blogs.vmware.com/vfabric/2013/02/choosing-your-messaging-protocol-amqp-mqtt-or-stomp.html)
[An overview of realtime protocols](https://deepstreamhub.com/blog/an-overview-of-realtime-protocols/)
[消息中间件选型时，要关注哪些问题？](https://mp.weixin.qq.com/s?__biz=MzIwMzg1ODcwMw==&mid=2247487688&idx=1&sn=d1555109750b309a2d96ce3332e8a97b&chksm=96c9a6a8a1be2fbe8e1df2f2bb60a2bfea0e62aaec0633df928432ceed6438a724dd217624cd#rd)
[漫谈消息队列：以 Kafka 和 RocketMQ 为例](https://www.infoq.cn/article/s*RvY8D1jrNIsfOJylPE)
[Messaging & Multiplexing - 250bpm](http://250bpm.com/blog:18)
[Messaging System — Hands On! – Hacker Noon](https://hackernoon.com/messaging-system-hands-on-7dda1afded37)
[消息中间件部署及比较：rabbitMQ、activeMQ、zeroMQ、rocketMQ、Kafka、redis - 掘金](https://juejin.im/post/5b32044ef265da59654c3027)

[Queues](http://queues.io/) Job queues, message queues and other queues. Almost all of them in one place.
[Grow Up. Use Queues.](https://www.openmymind.net/Grow-Up-Use-Queues/)
[Bus or Queue | Blog](https://ardalis.com/bus-or-queue/)
[Publish-Subscribe Pattern vs Message Queues vs Request Response (Detailed Discussions with Examples) - YouTube](https://www.youtube.com/watch?v=DXTHb9TqJOs)
[System Design Interview - Distributed Message Queue - YouTube](https://www.youtube.com/watch?v=iJLL-KPqBpM)

[goldsborough/ipc-bench: Benchmarks for Inter-Process-Communication Techniques](https://github.com/goldsborough/ipc-bench)

## Event-driven Architecture

[GOTO 2017 • The Many Meanings of Event-Driven Architecture • Martin Fowler - YouTube](https://www.youtube.com/watch?v=STKCRSUsyP0)
[GOTO 2020 • The Power of Event-Driven Systems without Burning your Hands or Budgets • Allard Buijze - YouTube](https://www.youtube.com/watch?v=Fso2OyguRuQ)

[Event-driven architecture, state machines et al. - 250bpm](http://250bpm.com/blog:25)
[State Machines for Event-Driven Systems | Embedded Systems Experts](http://www.barrgroup.com/Embedded-Systems/How-To/State-Machines-Event-Driven-Systems)
[From Request/Response to Events - DZone Microservices](https://dzone.com/articles/from-requestresponse-to-events)
[How to tame event-driven microservices | InfoWorld](https://www.infoworld.com/article/3391592/how-to-tame-event-driven-microservices.html)

## AMQP

[AMQP is the Internet Protocol for Business Messaging | AMQP](http://www.amqp.org/about/what)
[Advanced Message Queuing Protocol - Wikiwand](http://www.wikiwand.com/en/Advanced_Message_Queuing_Protocol)
[Messaging, AMQP and RabbitMQ - A Speed Guide - Compose Articles](https://www.compose.com/articles/messaging-amqp-and-rabbitmq-a-speed-guide/)
[Tech Spotlight: Advanced Message Queuing Protoc... | element14 | Tech Connection](https://www.element14.com/community/docs/DOC-91119/l/tech-spotlight-advanced-message-queuing-protocol-amqp) disable JavaScript

[AMQP Protocol Downloads | AMQP](http://www.amqp.org/resources/download)
[RabbitMQ - Protocol Documentation](https://www.rabbitmq.com/protocol.html)

[Speaking Rabbit: A look into AMQP’s frame structure](https://m.alphasights.com/speaking-rabbit-a-look-into-amqps-frame-structure-fbb81516b794)
[Working with AMQP | Packt Hub](https://hub.packtpub.com/working-amqp/)

### vs JMS

[Understanding AMQP](https://spring.io/understanding/AMQP)
[java - JMS and AMQP - RabbitMQ - Stack Overflow](https://stackoverflow.com/questions/15150133/jms-and-amqp-rabbitmq)
[Using JMS Transport as the Connection Protocol](https://docs.oracle.com/cd/E13222_01/wls/docs103/webserv_adv_rpc/jmstransport.html#wp244314)
[Understanding the Differences between AMQP & JMS - Mark Richards](http://www.wmrichards.com/amqp.pdf) PDF

### RabbitMQ

[RabbitMQ - Messaging that just works](http://www.rabbitmq.com/)
[RabbitMQ - Wikiwand](https://www.wikiwand.com/en/RabbitMQ)
Gateways for AMQP, HTTP, STOMP, and MQTT protocols
[Getting started with RabbitMQ — RabbitMQ](https://www.rabbitmq.com/getstarted.html)

[rabbitmq/rabbitmq-server: Open source multi-protocol messaging broker](https://github.com/rabbitmq/rabbitmq-server)
[rabbitmq/internals: High level architecture overview](https://github.com/rabbitmq/internals)

[RabbitMQ - Getting started with RabbitMQ](http://www.rabbitmq.com/getstarted.html)

[RabbitMQ in Microservices - DZone Microservices](https://dzone.com/articles/rabbitmq-in-microservices)
[RabbitMQ Crash Course - YouTube](https://www.youtube.com/watch?v=Cie5v59mrTg)
[2 Hours RabbitMQ Course with NodeJS, Pros & Cons, Cloud RMQ, RMQ vs Kafka, RMQ in Wireshark & MORE! - YouTube](https://www.youtube.com/watch?v=e03c3CIGtYU)

[Configuring RabbitMQ Exchanges, Queues and Bindings: Part 1 - Compose Articles](https://www.compose.com/articles/configuring-rabbitmq-exchanges-queues-and-bindings-part-1/)
[Configuring RabbitMQ Exchanges, Queues and Bindings: Part 2 - Compose Articles](https://www.compose.com/articles/configuring-rabbitmq-exchanges-queues-and-bindings-part-2/)

[Blog | Part 1: RabbitMQ for beginners - What is RabbitMQ? - CloudAMQP, RabbitMQ as a Service](https://www.cloudamqp.com/blog/2015-05-18-part1-rabbitmq-for-beginners-what-is-rabbitmq.html)
[Blog | Part 2.2: RabbitMQ for beginners - Getting started with Node.js - CloudAMQP, RabbitMQ as a Service](https://www.cloudamqp.com/blog/2015-05-19-part2-2-rabbitmq-for-beginners_example-and-sample-code-node-js.html)
[Blog | Part 3: RabbitMQ for beginners - The management interface - CloudAMQP, RabbitMQ as a Service](https://www.cloudamqp.com/blog/2015-05-27-part3-rabbitmq-for-beginners_the-management-interface.html)
[Blog | Part 4: RabbitMQ for beginners - Exchanges, routing keys and bindings - CloudAMQP, RabbitMQ as a Service](https://www.cloudamqp.com/blog/2015-09-03-part4-rabbitmq-for-beginners-exchanges-routing-keys-bindings.html)
[Blog | RabbitMQ for developers by Derick Bailey - CloudAMQP, RabbitMQ as a Service](https://www.cloudamqp.com/blog/2015-07-03-rabbitmq-for-developers-by-derick-bailey.html)

[The Changelog #258: 10 Years of RabbitMQ with Karl Nilsson & Michael Klishin | Changelog](https://changelog.com/podcast/258)

### ActiveMQ

[Apache ActiveMQ ™](http://activemq.apache.org/)
[Apache ActiveMQ - Wikiwand](https://www.wikiwand.com/en/Apache_ActiveMQ)
[ActiveMQ in Action Introduction](https://freecontent.manning.com/wp-content/uploads/introduction-to-apache-activemq.pdf)

Supports AMQP, REST, STOMP, MQTT, OpenWire, XMPP and WebSockets.

[ActiveMQ Command Line Tools](https://activemq.apache.org/activemq-command-line-tools-reference)
[ActiveMQ Unix Shell Script](https://activemq.apache.org/unix-shell-script)

[Scaling SpringBoot with Message Queues and Kubernetes ♦︎ Learnk8s](https://learnk8s.io/blog/scaling-spring-boot-microservices/)

## ZeroMQ

> not actually a message queue, but the building blocks of one

[ZeroMQ](https://zeromq.org/)
[ZeroMQ - Wikiwand](https://www.wikiwand.com/en/ZeroMQ)
[The ZeroMQ project](https://github.com/zeromq) GitHub Org
[Pieter Hintjens talks about ZeroMQ and open source at CERN, 27 June 2013 - YouTube](https://www.youtube.com/watch?v=fh89cdAIiNg) history and design
Why should I have written ZeroMQ in C, not C++ [part I](https://250bpm.com/blog:4/) [part II](https://250bpm.com/blog:8/)

Sockets are created from context. The context internally acts as a storage mechanism for global state and, to the user, as a pool of I/O threads.
Its sockets are not thread-safe!!

ZeroMQ channel (or it's just the client?) out of the box cannot handle sending concurrent messages
A client-side queue is needed to serialize the send calls

```
Node.js: "Socket is busy writing; only one send operation may be in progress at any time"
Python: "ZMQError('Operation cannot be accomplished in current state')>"
```

[ZeroMQ | Get started](https://zeromq.org/get-started/)
[ØMQ - The Guide - ØMQ - The Guide](http://zguide.zeromq.org/)
[23/ZMTP | ZeroMQ RFC](https://rfc.zeromq.org/spec/23/)
[28/REQREP | ZeroMQ RFC](https://rfc.zeromq.org/spec/28/)
[29/PUBSUB | ZeroMQ RFC](https://rfc.zeromq.org/spec/29/)
[30/PIPELINE | ZeroMQ RFC](https://rfc.zeromq.org/spec/30/)
[39/ZWS | ZeroMQ RFC](https://rfc.zeromq.org/spec/39/)
[37/ZMTP | ZeroMQ RFC](https://rfc.zeromq.org/spec/37/)
[7/MDP | ZeroMQ RFC](https://rfc.zeromq.org/spec/7/) Majordomo Protocol

[Building Distributed Systems with Node.js and ØMQ - YouTube](https://www.youtube.com/watch?v=zgDjaJdAB9c) 2014
[ZeroMQ is the answer - YouTube](https://www.youtube.com/watch?v=v6AGUeZOVSU) 2011
[ZeroMQ@PDX: 07 - Pieter Hintjens - ZeroMQ Basics (and AMQP ranting) on Vimeo](https://vimeo.com/38117896) 2012
[ZeroMQ@PDX: 02 - Pieter Hintjens - How to make money from ZeroMQ on Vimeo](https://vimeo.com/37854675) 2012

[ZeroMQ (ØMQ) Crash Course - YouTube](https://www.youtube.com/watch?v=UrwtQfSbrOs)
pnumerics
[ZeroMQ Ultimate Crash Course with C++ Examples | ØMQ | ZMQ - YouTube](https://www.youtube.com/watch?v=T_4uAmlawbI)
[ZeroMQ Crash Course - YouTube](https://www.youtube.com/playlist?list=PLGF-b6e06LqvR-K3xTRukrpkPN13zMEU2)

[ZeroMQ: Modern & Fast Networking Stack - igvita.com](https://www.igvita.com/2010/09/03/zeromq-modern-fast-networking-stack/)
[Design of PUB/SUB subsystem in ØMQ - 250bpm](http://250bpm.com/blog:39)
[0MQExperiences](https://indico.esss.lu.se/event/546/contributions/4223/attachments/4196/5757/0MQExperiences.pdf)

[Distributed Messaging with ZeroMQ – Brave New Geek](https://bravenewgeek.com/distributed-messaging-with-zeromq/)
[Share data between C and Python with this messaging library | Opensource.com](https://opensource.com/article/20/3/zeromq-c-python)

[ZeroMQ | C#](https://zeromq.org/languages/csharp/)
[zeromq/netmq: A 100% native C# implementation of ZeroMQ for .NET](https://github.com/zeromq/netmq)
[Home - NetMQ](https://netmq.readthedocs.io/en/latest/)

[ZeroMQ | NodeJS](https://zeromq.org/languages/nodejs/)
[zeromq.js](http://zeromq.github.io/zeromq.js/)
[zeromq/zeromq.js: Node.js bindings to the ØMQ library](https://github.com/zeromq/zeromq.js/)
[Error: Socket is busy writing · Issue #381 · zeromq/zeromq.js](https://github.com/zeromq/zeromq.js/issues/381) use `p-queue` to serialize sending of messages

[ZeroMQ | Python](https://zeromq.org/languages/python/)
[PyZMQ Documentation](https://pyzmq.readthedocs.io/en/latest/)
[zeromq/pyzmq: PyZMQ: Python bindings for zeromq](https://github.com/zeromq/pyzmq)
[Learning ØMQ with pyzmq — Learning 0MQ with examples](https://learning-0mq-with-pyzmq.readthedocs.io/en/latest/index.html)

[rjoydip/node-py-rpc: Node.js and python communication using Remote Procedure Call (RPC)](https://github.com/rjoydip/node-py-rpc)

[zerorpc](http://www.zerorpc.io/)
[zerorpc](https://github.com/0rpc)
[0rpc/zerorpc-node: zerorpc for node.js](https://github.com/0rpc/zerorpc-node)
[0rpc/zerorpc-python](https://github.com/0rpc/zerorpc-python)

### Multipart messages

Multipart is used to send binary, and message with topic (PUB/SUB)

[2. Sockets and Patterns | ØMQ - The Guide](https://zguide.zeromq.org/docs/chapter2/#Multipart-Messages)
[python - How can I use send_json with pyzmq PUB SUB - Stack Overflow](https://stackoverflow.com/questions/25188792/how-can-i-use-send-json-with-pyzmq-pub-sub)

```c
zmq_send (worker, address, address_size, ZMQ_SNDMORE);
zmq_send (worker, empty, 0, ZMQ_SNDMORE);
zmq_send (worker, "OK", 2, 0);
```

## Nanomsg

An IPC/RPC API that uses the Scalability Protocols. nanomsg and NNG should inter-operate (modulo a few caveats).
Successor of ZeroMQ.

[About Nanomsg](http://nanomsg.org/)

nanomsg aims to provide a POSIX (BSD socket) API. It uses state-machines to archive thread-safeness.
[nanomsg/nanomsg: nanomsg library](https://github.com/nanomsg/nanomsg)
[Getting Started with 'nanomsg'](https://nanomsg.org/gettingstarted/index.html)

[Differences between nanomsg and ZeroMQ](https://nanomsg.org/documentation-zeromq.html) from Martin Sustrik, the author of both libraries
[Optimising Subscriptions in nanomsg - 250bpm](http://250bpm.com/blog:19)
[Getting Rid of ZeroMQ-style Contexts - 250bpm](http://250bpm.com/blog:23)
[The Callback Hell - 250bpm](http://250bpm.com/blog:24)
[nanomsg: Towards Full-Blown Configuration Management - 250bpm](http://250bpm.com/blog:26)

[nickdesaulniers/node-nanomsg: Node.js binding for nanomsg](https://github.com/nickdesaulniers/node-nanomsg)

[FLOSS Weekly 469 nanomsg](https://twit.tv/shows/floss-weekly/episodes/469)

### Scalability Protocols

[About Nanomsg](https://nanomsg.org/)
[Scalability Protocols](https://staysail.github.io/nng_presentation/nng_presentation.html)
[A Look at Nanomsg and Scalability Protocols (Why ZeroMQ Shouldn’t Be Your First Choice) – Brave New Geek](https://bravenewgeek.com/a-look-at-nanomsg-and-scalability-protocols/)

[Bindings](https://nanomsg.org/documentation.html#bindings)

[nanocat(1)](https://nanomsg.org/v1.1.5/nanocat.html)
[https://nng.nanomsg.org/man/v1.3.2/nngcat.1.html](https://nng.nanomsg.org/man/v1.3.2/nngcat.1.html)

### nanomsg-NG/nng

[NNG - nanomsg-NG](https://nng.nanomsg.org/index.html) next generation of nanomsg
ditched POSIX API, allows callback rather than forcing one to poll file descriptor
[NNG Reference Manual, 2nd… by Garrett D'Amore [PDF/iPad/Kindle]](https://leanpub.com/nngref2e)

[Rational: Or why am I bothering to rewrite nanomsg?](https://nng.nanomsg.org/RATIONALE.html)
[Getting Started with 'nng'](https://nanomsg.org/gettingstarted/nng/index.html)
[https://nng.nanomsg.org/man/v1.3.2/index.html](https://nng.nanomsg.org/man/v1.3.2/index.html)

[jeikabu/nng.NETCore](https://github.com/jeikabu/nng.NETCore)

[This is Pynng’s Documentation](https://pynng.readthedocs.io/en/latest/)
[codypiersall/pynng: Python bindings for Nanomsg Next Generation.](https://github.com/codypiersall/pynng)

[nanomsg/mangos: mangos is a pure Golang implementation of nanomsg's "Scalablilty Protocols"](https://github.com/nanomsg/mangos)
[mangos package - go.nanomsg.org/mangos/v3 - pkg.go.dev](https://pkg.go.dev/go.nanomsg.org/mangos/v3)
[Message Queues, or how you can make processes talk to each other · Applied Go](https://appliedgo.net/messaging/)

## NATS

[NATS - Open Source Messaging System | Secure, Native Cloud Application Development](https://nats.io/)
[NATS Documentation](https://nats.io/documentation/)

## Liftbridge

[LIFTBRIDGE · Lightweight, fault-tolerant message streams](https://liftbridge.io/)
[Introducing Liftbridge: Lightweight, Fault-Tolerant Message Streams – Brave New Geek](https://bravenewgeek.com/introducing-liftbridge-lightweight-fault-tolerant-message-streams/)

## AMQP

[Home | AMQP](https://www.amqp.org/)
[Advanced Message Queuing Protocol - Wikiwand](https://www.wikiwand.com/en/Advanced_Message_Queuing_Protocol)

[Designed for Performance & Reliability - OpenAMQ](http://openamq.wikidot.com/) obsolete

## COAP

[CoAP — Constrained Application Protocol | Overview](http://coap.technology/)
[Constrained Application Protocol - Wikiwand](https://www.wikiwand.com/en/Constrained_Application_Protocol)
[HTTP vs CoAP · Issue #10 · mcollina/node-coap](https://github.com/mcollina/node-coap/issues/10)
[Tech Spotlight: The CoAP Protocol | element14 | Tech Connection](https://www.element14.com/community/docs/DOC-90554/l/tech-spotlight-the-coap-protoco) disable JavaScript

[mcollina/node-coap](https://github.com/mcollina/node-coap) binary http over udp

## MQTT

MQTT is a pub/sub broker rather than a message queue

[MQTT](http://mqtt.org/)
[MQTT - Wikiwand](http://www.wikiwand.com/en/MQTT)
[How to Build an High Availability MQTT Cluster for the Internet of Things](https://medium.com/@lelylan/how-to-build-an-high-availability-mqtt-cluster-for-the-internet-of-things-8011a06bd000)
[IBM Knowledge Center - Introduction to MQTT](https://www.ibm.com/support/knowledgecenter/SSFKSJ_7.5.0/com.ibm.mm.tc.doc/tc00000_.htm)
[What is MQTT and How It Works | Random Nerd Tutorials](https://randomnerdtutorials.com/what-is-mqtt-and-how-it-works/)

[Eclipse Mosquitto](https://mosquitto.org/)
[Install Mosquitto Broker Raspberry Pi | Random Nerd Tutorials](https://randomnerdtutorials.com/how-to-install-mosquitto-broker-on-raspberry-pi/)
[mcollina/aedes: Barebone MQTT broker that can run on any stream server, the node way](https://github.com/mcollina/aedes)

[MQTT with a Raspberry Pi and an Arduino - YouTube](https://www.youtube.com/watch?v=p3vJxGKWDIg)

[Mosca by mcollina](http://www.mosca.io/)
[mcollina/mosca: MQTT broker as a module](https://github.com/mcollina/mosca) MQTT broker with offline support
[Mosca basic usage · mcollina/mosca Wiki](https://github.com/mcollina/mosca/wiki/Mosca-basic-usage)

[mcollina/mqtt_and_nodejs: A bespoke.js presentation about MQTT and Node.js](https://github.com/mcollina/mqtt_and_nodejs)
[MQTT.js](https://github.com/mqttjs)
[mqttjs/MQTT.js: The MQTT client for Node.js and the browser](https://github.com/mqttjs/MQTT.js)

## XMPP

[XMPP - Wikiwand](https://www.wikiwand.com/en/XMPP)
[XMPP | XMPP Main](https://xmpp.org/)
[Tech Spotlight: The XMPP Protocol | element14 | Tech Connection](https://www.element14.com/community/docs/DOC-92109/l/tech-spotlight-the-xmpp-protoco) disable JavaScript

## STOMP

[STOMP](https://stomp.github.io/)
[Implementations](https://stomp.github.io/implementations.html)
[jasonrbriggs/stomp.py: “stomp.py” is a Python client library for accessing messaging servers (such as Apollo or RabbitMQ) using the STOMP protocol (versions 1.0, 1.1 and 1.2). It can also be run as a standalone, command-line client for testing.](https://github.com/jasonrbriggs/stomp.py)

## Kafka

[Introduction to Event-Driven Architectures with Apache Kafka on Heroku - Salesforce Live](https://www.salesforce.com/video/1773568/?c=7013A000001yK6PQAU&)
[HiveMQ Goes Open Source, Brings MQTT and Kafka Together](https://www.infoq.com/news/2019/04/hivemq-extension-kafka-mqtt/)

## PubSub

[Faye: Simple pub-sub messaging for the web](http://faye.jcoglan.com/)
[faye](https://github.com/faye) Org

[Building A Pub/Sub Service In-House Using Node.js And Redis — Smashing Magazine](https://www.smashingmagazine.com/2018/06/pub-sub-service-in-house-node-js-redis/)

## Outbox pattern

[Microservices & Data - Implementing the Outbox Pattern with Hibernate](https://thoughts-on-java.org/outbox-pattern-hibernate/)

## Others

[Ponte - Bringing Things to REST developers](http://eclipse.org/ponte/) Ponte allows you to publish and receive the data using any protocol: HTTP, MQTT and CoAP.
[mcollina/ascoltatori: The pub/sub library for node backed by Redis, MongoDB, AMQP (RabbitMQ), ZeroMQ, MQTT (Mosquitto) or just plain node!](https://github.com/mcollina/ascoltatori)

[tj/axon: message-oriented socket library for node.js heavily inspired by zeromq](https://github.com/tj/axon)
[tj/punt: Elegant UDP messaging for nodejs](https://github.com/tj/punt)

[OpenHFT/Chronicle-Queue: Micro second messaging that stores everything to disk](https://github.com/OpenHFT/Chronicle-Queue)
